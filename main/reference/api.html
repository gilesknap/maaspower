<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Code &mdash; maaspower 0.7.0+13.gf44cb6e documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=fd3f3429" />
      <link rel="stylesheet" type="text/css" href="../_static/theme_overrides.css?v=e20ccd95" />

  
    <link rel="shortcut icon" href="../_static/dls-favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=80d550bd"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Contributing" href="contributing.html" />
    <link rel="prev" title="TODO: Outstanding Work" href="../explanations/todo.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: rgb(7, 43, 93)" >

          
          
          <a href="../index.html" class="icon icon-home">
            maaspower
              <img src="../_static/MaasLogo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                main
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/getting-started.html">How to use MaasPower</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/advanced.html">Using Regular Expressions in Device Names</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">How-to Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../how-to/addapi.html">How to add support for a new API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-to/edit-yaml.html">YAML schema</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-to/mega4.html">UUGear MEGA4 USB Hub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-to/taposmartplug.html">TP Link Tapo Smart Plug</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-to/web_ui.html">Netgear GS308EP PoE 8 port switch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-to/ciscoiospoe.html">Cisco IOS PoE Switches</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Explanations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../explanations/devicetypes.html">Supported Types of Device Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../explanations/security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../explanations/purpose.html">Purpose of this Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../explanations/todo.html">TODO: Outstanding Work</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Code</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#maaspower-package">maaspower package</a></li>
<li class="toctree-l2"><a class="reference internal" href="#maaspower"><code class="docutils literal notranslate"><span class="pre">maaspower</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#maaspower.maaspower.__version__"><code class="docutils literal notranslate"><span class="pre">maaspower.__version__</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#massconfig-py">massconfig.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="#maaspower-maasconfig"><code class="docutils literal notranslate"><span class="pre">maaspower.maasconfig</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#maaspower.maasconfig.SwitchDevice"><code class="docutils literal notranslate"><span class="pre">SwitchDevice</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#maaspower.maasconfig.RegexSwitchDevice"><code class="docutils literal notranslate"><span class="pre">RegexSwitchDevice</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#maaspower.maasconfig.MaasConfig"><code class="docutils literal notranslate"><span class="pre">MaasConfig</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#webhook-py">webhook.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="#maaspower-webhook"><code class="docutils literal notranslate"><span class="pre">maaspower.webhook</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#maaspower.webhook.command"><code class="docutils literal notranslate"><span class="pre">command()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#maaspower.webhook.load_web_hook"><code class="docutils literal notranslate"><span class="pre">load_web_hook()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#maaspower.webhook.run_web_hook"><code class="docutils literal notranslate"><span class="pre">run_web_hook()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#devices-package">devices package</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-maaspower.devices.smart_thing"><code class="docutils literal notranslate"><span class="pre">maaspower.devices</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#smart-thing-py">smart_thing.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="#maaspower-devices-smart-thing"><code class="docutils literal notranslate"><span class="pre">maaspower.devices.smart_thing</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#maaspower.devices.smart_thing.SmartThing"><code class="docutils literal notranslate"><span class="pre">SmartThing</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#shell-cmd-py">shell_cmd.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="#maaspower-devices-shell-cmd"><code class="docutils literal notranslate"><span class="pre">maaspower.devices.shell_cmd</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#maaspower.devices.shell_cmd.CommandLine"><code class="docutils literal notranslate"><span class="pre">CommandLine</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="poe.html">Notes on Using a PoE switch With maaspower</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/gilesknap/maaspower/releases">Releases</a></li>
<li class="toctree-l1"><a class="reference external" href="genindex.html#http://">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: rgb(7, 43, 93)" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">maaspower</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Code</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/reference/api.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="code">
<h1>Code<a class="headerlink" href="#code" title="Link to this heading"></a></h1>
<p>Internal Implementation Documentation.</p>
<section id="maaspower-package">
<span id="module-maaspower"></span><h2>maaspower package<a class="headerlink" href="#maaspower-package" title="Link to this heading"></a></h2>
</section>
<section id="maaspower">
<h2><code class="docutils literal notranslate"><span class="pre">maaspower</span></code><a class="headerlink" href="#maaspower" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">automodule</span></code> below.</p>
<dl class="py data">
<dt class="sig sig-object py" id="maaspower.maaspower.__version__">
<span class="sig-prename descclassname"><span class="pre">maaspower.</span></span><span class="sig-name descname"><span class="pre">__version__</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#maaspower.maaspower.__version__" title="Link to this definition"></a></dt>
<dd><p>Version number as calculated by <a class="reference external" href="https://github.com/dls-controls/versiongit">https://github.com/dls-controls/versiongit</a></p>
</dd></dl>

<section id="massconfig-py">
<span id="module-maaspower.maasconfig"></span><h3>massconfig.py<a class="headerlink" href="#massconfig-py" title="Link to this heading"></a></h3>
<p>This module uses APISchema to serialize and deserialize the config
file, plus provides a schema for easy editing of the config.</p>
<p>The MaasConfig class plus SwitchDevice derived classes in the devices folder
provide an in memory representation of the contents of
the maaspower YAML configuration file that specifies the set of power
manager devices for which to serve web hooks.</p>
</section>
<section id="maaspower-maasconfig">
<h3><code class="docutils literal notranslate"><span class="pre">maaspower.maasconfig</span></code><a class="headerlink" href="#maaspower-maasconfig" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="maaspower.maasconfig.SwitchDevice">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">maaspower.maasconfig.</span></span><span class="sig-name descname"><span class="pre">SwitchDevice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/maaspower/maasconfig.html#SwitchDevice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#maaspower.maasconfig.SwitchDevice" title="Link to this definition"></a></dt>
<dd><p>A base class for the switching devices that the webhook server will control.</p>
<p>Concrete subclasses MUST provide a <a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.12)"><code class="xref any docutils literal notranslate"><span class="pre">type</span></code></a> field akin to this:</p>
<p>type: Literal[“ConreteDevice”] = “ConcreteDevice”</p>
<p>Concrete subclasses are found in the devices subfolder</p>
<dl class="py method">
<dt class="sig sig-object py" id="maaspower.maasconfig.SwitchDevice.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">match</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#maaspower.maasconfig.SwitchDevice" title="maaspower.maasconfig.SwitchDevice"><span class="pre">SwitchDevice</span></a></span></span><a class="reference internal" href="../_modules/maaspower/maasconfig.html#SwitchDevice.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#maaspower.maasconfig.SwitchDevice.copy" title="Link to this definition"></a></dt>
<dd><p>Create a copy of this device with a new name.
All the fields of the object are reformatted with substitutions in
regex matches using {name} for the whole match and {m1} {m2} etc
for matching subgroups.</p>
<p>This is used for creating a specific instance of a device from
a regex defined device.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="maaspower.maasconfig.RegexSwitchDevice">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">maaspower.maasconfig.</span></span><span class="sig-name descname"><span class="pre">RegexSwitchDevice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_on_regex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'on'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_off_regex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'off'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/maaspower/maasconfig.html#RegexSwitchDevice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#maaspower.maasconfig.RegexSwitchDevice" title="Link to this definition"></a></dt>
<dd><p>An abstract <a class="reference internal" href="#maaspower.maasconfig.SwitchDevice" title="maaspower.maasconfig.SwitchDevice"><code class="xref any py py-class docutils literal notranslate"><span class="pre">SwitchDevice</span></code></a> which has the ability to interpret reponses
and convert them to the requisit MaasReponse values using regex.</p>
<dl class="py method">
<dt class="sig sig-object py" id="maaspower.maasconfig.RegexSwitchDevice.run_query">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">run_query</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></span><a class="reference internal" href="../_modules/maaspower/maasconfig.html#RegexSwitchDevice.run_query"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#maaspower.maasconfig.RegexSwitchDevice.run_query" title="Link to this definition"></a></dt>
<dd><p>Ths method should be overridden by concrete classes. This method
is called by query_state and it’s response is run through query_regex_on
and query_regex_off.</p>
<p>returns: A value to be parsed by query_regex_on and query_regex_off.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="maaspower.maasconfig.RegexSwitchDevice.query_state">
<span class="sig-name descname"><span class="pre">query_state</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></span><a class="reference internal" href="../_modules/maaspower/maasconfig.html#RegexSwitchDevice.query_state"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#maaspower.maasconfig.RegexSwitchDevice.query_state" title="Link to this definition"></a></dt>
<dd><p>Uses the regex patterns defined in query_on_regex and query_off_regex
to ascertain the correct response.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="maaspower.maasconfig.MaasConfig">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">maaspower.maasconfig.</span></span><span class="sig-name descname"><span class="pre">MaasConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">ip_address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">devices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.12)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#maaspower.maasconfig.SwitchDevice" title="maaspower.maasconfig.SwitchDevice"><span class="pre">SwitchDevice</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/maaspower/maasconfig.html#MaasConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#maaspower.maasconfig.MaasConfig" title="Link to this definition"></a></dt>
<dd><p>Provides global information regarding webhook address, passwords etc.</p>
<p>Plus a list of switch devices. The devices are generic in this module,
config definitions and function for specific device types are
in the devices folder.</p>
<dl class="py method">
<dt class="sig sig-object py" id="maaspower.maasconfig.MaasConfig.find_device">
<span class="sig-name descname"><span class="pre">find_device</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/maaspower/maasconfig.html#MaasConfig.find_device"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#maaspower.maasconfig.MaasConfig.find_device" title="Link to this definition"></a></dt>
<dd><p>use the indexed list to find the device or walk through the and check
for regex matches.
A regex match creates a new device which goes in the _devices cache
so will not need matching a second time</p>
<p>TODO <a class="reference external" href="https://github.com/gilesknap/maaspower/issues/10#issue-1222292918">https://github.com/gilesknap/maaspower/issues/10#issue-1222292918</a></p>
</dd></dl>

</dd></dl>

</section>
<section id="webhook-py">
<span id="module-maaspower.webhook"></span><h3>webhook.py<a class="headerlink" href="#webhook-py" title="Link to this heading"></a></h3>
<p>Use Flask to implement a web server that provides web hooks based on
the provided configuration</p>
</section>
<section id="maaspower-webhook">
<h3><code class="docutils literal notranslate"><span class="pre">maaspower.webhook</span></code><a class="headerlink" href="#maaspower-webhook" title="Link to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="maaspower.webhook.command">
<span class="sig-prename descclassname"><span class="pre">maaspower.webhook.</span></span><span class="sig-name descname"><span class="pre">command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">devicename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">command</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/maaspower/webhook.html#command"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#maaspower.webhook.command" title="Link to this definition"></a></dt>
<dd><p>Accept webhooks at /maaspower/&lt;devicename&gt;/&lt;command&gt;</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="maaspower.webhook.load_web_hook">
<span class="sig-prename descclassname"><span class="pre">maaspower.webhook.</span></span><span class="sig-name descname"><span class="pre">load_web_hook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#maaspower.maasconfig.MaasConfig" title="maaspower.maasconfig.MaasConfig"><span class="pre">MaasConfig</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/maaspower/webhook.html#load_web_hook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#maaspower.webhook.load_web_hook" title="Link to this definition"></a></dt>
<dd><p>Setup config for the webserver</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="maaspower.webhook.run_web_hook">
<span class="sig-prename descclassname"><span class="pre">maaspower.webhook.</span></span><span class="sig-name descname"><span class="pre">run_web_hook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#maaspower.maasconfig.MaasConfig" title="maaspower.maasconfig.MaasConfig"><span class="pre">MaasConfig</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/maaspower/webhook.html#run_web_hook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#maaspower.webhook.run_web_hook" title="Link to this definition"></a></dt>
<dd><p>Launch the webserver</p>
</dd></dl>

</section>
</section>
<section id="devices-package">
<span id="module-maaspower.devices"></span><h2>devices package<a class="headerlink" href="#devices-package" title="Link to this heading"></a></h2>
<p>Each SwitchDevice derived class in this package adds support for a type
of switching device.</p>
</section>
<section id="module-maaspower.devices.smart_thing">
<span id="maaspower-devices"></span><h2><code class="docutils literal notranslate"><span class="pre">maaspower.devices</span></code><a class="headerlink" href="#module-maaspower.devices.smart_thing" title="Link to this heading"></a></h2>
<section id="smart-thing-py">
<h3>smart_thing.py<a class="headerlink" href="#smart-thing-py" title="Link to this heading"></a></h3>
<p>Classes to represent the configuration and functionality for devices
that can be controlled via the SmartThings API.</p>
<p>See <a class="reference external" href="https://www.smartthings.com/">https://www.smartthings.com/</a></p>
</section>
<section id="maaspower-devices-smart-thing">
<h3><code class="docutils literal notranslate"><span class="pre">maaspower.devices.smart_thing</span></code><a class="headerlink" href="#maaspower-devices-smart-thing" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="maaspower.devices.smart_thing.SmartThing">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">maaspower.devices.smart_thing.</span></span><span class="sig-name descname"><span class="pre">SmartThing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_on_regex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'on'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_off_regex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'off'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">off</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.12)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'SmartThingDevice'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'SmartThingDevice'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'none'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'none'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/maaspower/devices/smart_thing.html#SmartThing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#maaspower.devices.smart_thing.SmartThing" title="Link to this definition"></a></dt>
<dd><p>A device controlled via SmartThings</p>
</dd></dl>

</section>
<section id="shell-cmd-py">
<span id="module-maaspower.devices.shell_cmd"></span><h3>shell_cmd.py<a class="headerlink" href="#shell-cmd-py" title="Link to this heading"></a></h3>
<p>Classes to represent the configuration and functionality for devices
that can be controlled via a command line utility.</p>
<p>e.g. smart power switching usb hubs <a class="reference external" href="https://github.com/mvp/uhubctl">https://github.com/mvp/uhubctl</a></p>
</section>
<section id="maaspower-devices-shell-cmd">
<h3><code class="docutils literal notranslate"><span class="pre">maaspower.devices.shell_cmd</span></code><a class="headerlink" href="#maaspower-devices-shell-cmd" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="maaspower.devices.shell_cmd.CommandLine">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">maaspower.devices.shell_cmd.</span></span><span class="sig-name descname"><span class="pre">CommandLine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_on_regex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'on'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_off_regex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'off'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">off</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.12)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'CommandLine'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'CommandLine'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/maaspower/devices/shell_cmd.html#CommandLine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#maaspower.devices.shell_cmd.CommandLine" title="Link to this definition"></a></dt>
<dd><p>A device controlled via a command line utility</p>
</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../explanations/todo.html" class="btn btn-neutral float-left" title="TODO: Outstanding Work" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="contributing.html" class="btn btn-neutral float-right" title="Contributing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
   
  <div id="other-versions-div" class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions" style="visibility: hidden">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Other Versions</span>
      main
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl id="other-versions-dl"/>
    </div>
  </div>
  <script>
    function addVersion(name) {
      var dd = document.createElement("dd");
      var a = document.createElement("a");
      a.href = "../../" + name;
      a.innerText = name;
      dd.appendChild(a);
      document.getElementById('other-versions-dl').appendChild(dd);
    }
    // Get versions.txt and add a version for each line
    fetch("../../versions.txt").then(response => {
      if (response.ok) {
        document.getElementById('other-versions-div').style.visibility = "visible";
        return response.text().then(text => text.split(/\r?\n/).forEach(addVersion))
      }
    });
  </script>


</body>
</html>